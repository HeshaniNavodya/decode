<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Decoding...</title>

<style>
body {
  margin: 0;
  background: black;
  color: #00ff00;
  font-family: monospace;
  overflow: hidden;
}

/* Scanline effect */
body::after {
  content: "";
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: repeating-linear-gradient(
    to bottom,
    rgba(0,255,0,0.05),
    rgba(0,255,0,0.05) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
}

/* Terminal */
#terminal {
  padding: 20px;
  font-size: 16px;
  white-space: pre-line;
}

/* Progress bar */
#progressBox {
  width: 80%;
  margin: 20px auto;
  border: 1px solid #00ff00;
  height: 20px;
  opacity: 0;
  transition: opacity 0.3s ease;
}
#progressBox.show {
  opacity: 1;
}
#progress {
  height: 100%;
  width: 0%;
  background: #00ff00;
}

/* Access granted */
#access {
  opacity: 0;
  text-align: center;
  font-size: 32px;
  margin-top: 40px;
  animation: glitch 0.15s infinite;
  transition: opacity 0.3s ease;
}
#access.show {
  opacity: 1;
}

@keyframes glitch {
  0% { text-shadow: 2px 0 red, -2px 0 cyan; }
  50% { text-shadow: -2px 0 red, 2px 0 cyan; }
  100% { text-shadow: 2px 0 red, -2px 0 cyan; }
}

/* Decode button */
#decodeBtnContainer {
  opacity: 0;
  text-align: center;
  margin-top: 20px;
  transition: opacity 0.3s ease;
}
#decodeBtnContainer.show {
  opacity: 1;
}
#decodeBtnContainer button {
  padding: 12px 20px;
  font-size: 18px;
  background: black;
  color: #00ff00;
  border: 2px solid #00ff00;
  cursor: pointer;
}
#decodeBtnContainer button:hover {
  background: #00ff00;
  color: black;
}

/* Final message */
#final {
  display: none;
  text-align: center;
  margin-top: 30px;
}

/* Confetti */
.confetti {
  position: fixed;
  width: 8px;
  height: 8px;
  top: -10px;
  animation: fall linear forwards;
}

@keyframes fall {
  to {
    transform: translateY(110vh) rotate(360deg);
  }
}

/* Floating image */
#floatImg {
  position: fixed;
  width: 120px;
  top: 40%;
  left: -150px;
  animation: floatAcross 10s linear infinite;
  display: none;
  will-change: transform;
}

@keyframes floatAcross {
  0%   { transform: translateX(-200px) translateY(-50px); }
  50%  { transform: translateX(50vw) translateY(80px); }
  100% { transform: translateX(120vw) translateY(-30px); }
}

/* Flash effect */
.flash {
  animation: flashAnim 0.3s;
}

@keyframes flashAnim {
  from { background: white; }
  to { background: black; }
}
</style>
</head>
<body>

<div id="terminal"></div>

<div id="progressBox">
  <div id="progress"></div>
</div>

<div id="access">ðŸ”“ ACCESS GRANTED</div>

<div id="decodeBtnContainer">
  <button id="decodeBtn">Start Decoding</button>
</div>

<div id="final">
  <h1>ðŸŽ‰ Congratulations! ðŸŽ‰</h1>
  <p>You just wasted 10 seconds of your life ðŸ˜Œ</p>
</div>

<img id="floatImg" src="him.png" alt="Sticker">

<script>
const terminal = document.getElementById("terminal");
const access = document.getElementById("access");
const final = document.getElementById("final");
const floatImg = document.getElementById("floatImg");
const progressBox = document.getElementById("progressBox");
const progress = document.getElementById("progress");
const decodeBtnContainer = document.getElementById("decodeBtnContainer");
const decodeBtn = document.getElementById("decodeBtn");

const lines = [
  "Initializing decoder...",
  "Bypassing security...",
  "Injecting exploit...",
  "Cracking encryption...",
  "Almost there...",
  "Decoding message..."
];

let lineIndex = 0;
let charIndex = 0;

function typeSmooth() {
  if (lineIndex < lines.length) {
    if (charIndex < lines[lineIndex].length) {
      terminal.innerHTML += lines[lineIndex][charIndex];
      charIndex++;
      setTimeout(typeSmooth, 30);
    } else {
      terminal.innerHTML += "\n";
      lineIndex++;
      charIndex = 0;
      setTimeout(typeSmooth, 300);
    }
  } else {
    setTimeout(showProgress, 500);
  }
}

function showProgress() {
  terminal.innerHTML += "\nLoading payload...\n";
  progressBox.classList.add('show');
  let p = 0;
  const intv = setInterval(() => {
    p += 2;
    progress.style.width = p + "%";
    if (p >= 100) {
      clearInterval(intv);
      setTimeout(showAccess, 500);
    }
  }, 40);
}

function showAccess() {
  terminal.style.display = "none";
  progressBox.classList.remove('show');
  access.classList.add('show');

  document.body.classList.add("flash");
  setTimeout(() => document.body.classList.remove("flash"), 300);

  // Show "Start Decoding" button after Access Granted
  setTimeout(() => {
    decodeBtnContainer.classList.add('show');
    decodeBtn.onclick = startFinalReveal;
  }, 500);
}

// Final reveal function
function startFinalReveal() {
  decodeBtnContainer.classList.remove('show');
  access.classList.remove('show');
  final.style.display = "block";
  floatImg.style.display = "block";

  if (navigator.vibrate) {
    navigator.vibrate([150, 80, 150, 80, 200]);
  }

  launchConfettiSmooth();
}

function launchConfettiSmooth() {
  let count = 0;
  const interval = setInterval(() => {
    const conf = document.createElement("div");
    conf.className = "confetti";
    conf.style.left = Math.random() * 100 + "vw";
    conf.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
    conf.style.animationDuration = (2 + Math.random() * 2) + "s";
    document.body.appendChild(conf);

    setTimeout(() => conf.remove(), 4000);

    count++;
    if (count > 70) clearInterval(interval);
  }, 40);
}

// Start typing animation
window.addEventListener('load', typeSmooth);
</script>

</body>
</html>
